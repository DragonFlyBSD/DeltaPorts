--- CMakeLists.txt.orig	2021-10-27 12:02:28 UTC
+++ CMakeLists.txt
@@ -62,8 +62,10 @@ if(APPLE)
 endif()
 
 if(NOT MSVC)
+	if(NOT CMAKE_SYSTEM_NAME STREQUAL "DragonFly")
 	set(FIDO_CFLAGS "${FIDO_CFLAGS} -D_POSIX_C_SOURCE=200809L")
 	set(FIDO_CFLAGS "${FIDO_CFLAGS} -D_BSD_SOURCE")
+	endif()
 	if(APPLE)
 		set(FIDO_CFLAGS "${FIDO_CFLAGS} -D_DARWIN_C_SOURCE")
 		set(FIDO_CFLAGS "${FIDO_CFLAGS} -D__STDC_WANT_LIB_EXT1__=1")
